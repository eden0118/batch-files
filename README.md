# æ‰¹æ¬¡æª”æ¡ˆé‡æ–°å‘½åå·¥å…· (Batch Renamer)

> æ”¯æ´ç¹ç°¡è½‰æ›ã€æ–‡æœ¬æ›¿æ›ã€ç¬¦è™Ÿç§»é™¤ã€å‰ç¶´å¾Œç¶´ç­‰åŠŸèƒ½çš„è·¨å¹³å°æª”æ¡ˆæ‰¹æ¬¡é‡æ–°å‘½åå·¥å…·

![Version](https://img.shields.io/badge/version-1.4-blue)
![Python](https://img.shields.io/badge/python-3.10+-brightgreen)
![Framework](https://img.shields.io/badge/framework-Flet-2dd4bf)
![License](https://img.shields.io/badge/license-MIT-green)

## æ ¸å¿ƒåŠŸèƒ½

- **ç°¡é«”è½‰ç¹é«”**: è‡ªå‹•è½‰æ›æª”æ¡ˆåç¨±ä¸­çš„ç°¡é«”å­—ç‚ºç¹é«”å­—ï¼ˆOpenCC æˆ–å‚™ç”¨å­—å…¸ï¼‰
- **æ–‡æœ¬æ›¿æ›**: æ‰¹æ¬¡æ›¿æ›æª”æ¡ˆåç¨±ä¸­çš„æŒ‡å®šæ–‡æœ¬
- **ç¬¦è™Ÿç§»é™¤**: ç§»é™¤æª”æ¡ˆåç¨±ä¸­çš„ç‰¹å®šç¬¦è™Ÿå­—å…ƒ
- **å‰ç¶´å¾Œç¶´**: ç‚ºæª”æ¡ˆåç¨±æ·»åŠ å‰ç¶´å’Œå¾Œç¶´
- **å¯¦æ™‚é è¦½**: åŸ·è¡Œå‰æŸ¥çœ‹æ‰€æœ‰é‡æ–°å‘½åçµæœ
- **æ™ºèƒ½ç¯©é¸**: æŒ‰å‰¯æª”åé€²è¡Œç¯©é¸
- **å¤šèªè¨€æ”¯æ´**: ä¸­æ–‡ (ç¹é«”) å’Œè‹±æ–‡
- **è©³ç´°æ—¥èªŒ**: è¨˜éŒ„æ¯å€‹æª”æ¡ˆçš„é‡æ–°å‘½åéç¨‹

## ç³»çµ±éœ€æ±‚

- **Python**: 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **ä½œæ¥­ç³»çµ±**: macOS 10.14+, Windows 10+, Linux
- **GUI æ¡†æ¶**: Flet (>=0.20.0)

## å¿«é€Ÿé–‹å§‹

### å¾åŸå§‹ç¢¼åŸ·è¡Œ

```bash
# å…‹éš†å„²å­˜åº«
git clone https://github.com/eden0118/batch-files.git
cd batch-files

# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
# æˆ–
venv\Scripts\activate     # Windows

# å®‰è£ä¾è³´
pip install flet

# åŸ·è¡Œæ‡‰ç”¨ç¨‹å¼
python3 main.py
```

## ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ­¥é©Ÿ

1. **é¸æ“‡è³‡æ–™å¤¾**: è²¼å…¥æˆ–é¸æ“‡è¦é‡æ–°å‘½åçš„ç›®éŒ„è·¯å¾‘
2. **è¨­å®šç¯©é¸** (å¯é¸):
   - **ç¯©é¸é¡å‹**: å…¨éƒ¨æª”æ¡ˆæˆ–ç‰¹å®šå‰¯æª”å
   - **å‰¯æª”å**: è¼¸å…¥å‰¯æª”å (å¦‚ `txt,pdf,mp3`)
3. **è¨­å®šæ“ä½œ**:
   - **è½‰æ›æ¨¡å¼**: ç„¡ã€ç°¡è½‰ç¹ã€æ–‡æœ¬æ›¿æ›
   - **æ ¼å¼åŒ–**: ç§»é™¤ç¬¦è™Ÿã€æ·»åŠ å‰ç¶´/å¾Œç¶´
4. **é è¦½çµæœ**: æŸ¥çœ‹å³æ™‚é è¦½æˆ–å®Œæ•´é è¦½
5. **åŸ·è¡Œ**: é»é¸ã€ŒåŸ·è¡Œé‡æ–°å‘½åã€ä¸¦ç¢ºèª

### æ“ä½œæ¨¡å¼

#### ç„¡æ“ä½œ
åƒ…æ‡‰ç”¨æ ¼å¼åŒ–æ“ä½œï¼ˆå‰ç¶´ã€å¾Œç¶´ã€ç¬¦è™Ÿç§»é™¤ï¼‰

#### ç°¡è½‰ç¹
å°‡ç°¡é«”å­—è½‰æ›ç‚ºç¹é«”å­—
- å„ªå…ˆä½¿ç”¨ OpenCCï¼ˆæ›´æº–ç¢ºï¼‰
- ç„¡ OpenCC æ™‚ä½¿ç”¨å‚™ç”¨å­—å…¸

#### æ–‡æœ¬æ›¿æ›
ç›´æ¥æ›¿æ›æª”æ¡ˆåç¨±ä¸­çš„æŒ‡å®šæ–‡æœ¬

## å°ˆæ¡ˆçµæ§‹

```
batch-files/
â”œâ”€â”€ src/batch_renamer/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                   # æ¨¡çµ„é€²å…¥é»
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ renamer.py           # æª”æ¡ˆé‡å‘½åå¼•æ“ï¼ˆæ¥­å‹™é‚è¼¯ï¼‰
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ app.py               # Flet GUI ä¸»æ‡‰ç”¨
â”‚   â”‚   â”œâ”€â”€ components.py        # å¯é‡ç”¨ UI çµ„ä»¶
â”‚   â”‚   â””â”€â”€ events.py            # äº‹ä»¶è™•ç†å™¨
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ constants.py         # å¸¸æ•¸å®šç¾©ï¼ˆå­—å…¸ã€é¡è‰²ï¼‰
â”‚       â”œâ”€â”€ converter.py         # ç°¡ç¹è½‰æ›å·¥å…·
â”‚       â””â”€â”€ strings.py           # å¤šèªè¨€å­—ç¬¦ä¸²
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_renamer.py          # å–®å…ƒæ¸¬è©¦
â”œâ”€â”€ main.py                       # æ‡‰ç”¨é€²å…¥é»
â”œâ”€â”€ pyproject.toml               # å°ˆæ¡ˆé…ç½®
â”œâ”€â”€ requirements.txt             # åŸ·è¡Œä¾è³´
â”œâ”€â”€ requirements-build.txt       # ç·¨è­¯ä¾è³´
â”œâ”€â”€ build_mac.sh                 # macOS ç·¨è­¯è…³æœ¬
â”œâ”€â”€ build_win.bat                # Windows ç·¨è­¯è…³æœ¬
â”œâ”€â”€ build_spec.py                # PyInstaller é…ç½®
â””â”€â”€ README.md                    # æœ¬æ–‡ä»¶
```

## æ¶æ§‹è¨­è¨ˆ

### åˆ†å±¤çµæ§‹

- **Core Layer** (`src/batch_renamer/core/`): ç´”æ¥­å‹™é‚è¼¯ï¼Œç„¡ UI ä¾è³´ï¼Œå¯å–®ç¨æ¸¬è©¦
- **UI Layer** (`src/batch_renamer/ui/`): Flet GUIï¼Œè² è²¬ç”¨æˆ¶äº¤äº’
- **Utils Layer** (`src/batch_renamer/utils/`): å…±äº«å·¥å…·å’Œå¸¸æ•¸

### ä¸»è¦é¡åˆ¥

**FileRenamer**: æ ¸å¿ƒé‡å‘½åå¼•æ“
- `scan_directory()`: éæ­¸æƒæç›®éŒ„
- `apply_conversion()`: æ‡‰ç”¨æ–‡æœ¬è½‰æ›
- `apply_formatting()`: æ‡‰ç”¨æ ¼å¼åŒ–
- `execute_rename()`: åŸ·è¡Œå¯¦éš›é‡å‘½å

## ä¾è³´ç®¡ç†

### åŸ·è¡Œæ™‚ä¾è³´

```
flet>=0.20.0                 # GUI æ¡†æ¶
```

### å¯é¸ä¾è³´

```
opencc>=1.1.0                # ç°¡ç¹è½‰æ›ï¼ˆé«˜ç²¾åº¦ï¼‰
```

### é–‹ç™¼ä¾è³´

```
pytest>=7.0                  # å–®å…ƒæ¸¬è©¦
pytest-cov>=4.0              # æ¸¬è©¦è¦†è“‹ç‡
```

## é–‹ç™¼

### ç’°å¢ƒè¨­å®š

```bash
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
pip install flet pytest
```

### åŸ·è¡Œé–‹ç™¼ç‰ˆæœ¬

```bash
source venv/bin/activate
python3 main.py
```

### ä»£ç¢¼æ¨™æº–

- **å‘½å**: snake_case (å‡½æ•¸/è®Šæ•¸), CamelCase (é¡åˆ¥)
- **é¡å‹æç¤º**: ä½¿ç”¨ `typing` æ¨¡çµ„
- **æ–‡æª”**: Docstring èªªæ˜å‡½æ•¸ç”¨é€”

## ç·¨è­¯

### macOS

```bash
source venv/bin/activate
pip install pyinstaller
chmod +x build_mac.sh
./build_mac.sh
```

### Windows

```cmd
venv\Scripts\activate
pip install pyinstaller
build_win.bat
```

## å¸¸è¦‹å•é¡Œ

**Q: ç°¡è½‰ç¹è½‰æ›æ•ˆæœä¸ä½³ï¼Ÿ**
A: å®‰è£ OpenCC ä»¥æå‡ç²¾åº¦ï¼š
```bash
pip install opencc
```

**Q: å¦‚ä½•å¾©åŸå·²é‡å‘½åçš„æª”æ¡ˆï¼Ÿ**
A: é‡æ–°å‘½åæ“ä½œç„¡æ³•å¾©åŸï¼Œè«‹æå‰å‚™ä»½é‡è¦æª”æ¡ˆã€‚

**Q: macOS ä¸Šå‡ºç¾æ¬Šé™å•é¡Œï¼Ÿ**
A: ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ç§»é™¤éš”é›¢å±¬æ€§ï¼š
```bash
xattr -d com.apple.quarantine "/Applications/Batch Renamer.app"
```

## è®Šæ›´æ—¥èªŒ

### v1.4 (2026-01-19)
- ğŸ”§ é‡æ§‹å°ˆæ¡ˆçµæ§‹ï¼Œåˆ†é›¢æ¥­å‹™é‚è¼¯èˆ‡ UI
- âœ¨ å‰µå»ºæ¨¡çµ„åŒ–æ¶æ§‹ (Core/UI/Utils)
- ğŸ“¦ ç°¡åŒ– app.pyï¼Œæ”¹å–„å¯ç¶­è­·æ€§
- ğŸ¨ å„ªåŒ– constants.pyï¼Œç§»é™¤å†—é¤˜å­—å…¸
- ğŸŒ æ•´åˆ execute_rename() é‚è¼¯

### v1.0 (2026-01-18)
- âœ¨ é¦–å€‹ç™¼è¡Œç‰ˆæœ¬
- ğŸ¨ Flet è·¨å¹³å° GUI
- ğŸŒ ç°¡è½‰ç¹ã€æ–‡æœ¬æ›¿æ›ç­‰æ ¸å¿ƒåŠŸèƒ½
- ğŸ“¦ macOS å’Œ Windows ç·¨è­¯æ”¯æ´

## è¨±å¯è­‰

MIT License - è©³è¦‹ LICENSE æ–‡ä»¶

## è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**Made with â¤ï¸ by the Batch Renamer Team**

Last Updated: 2026-01-19
